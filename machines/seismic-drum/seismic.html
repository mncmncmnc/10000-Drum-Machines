<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEISMIC ACTIVITY</title>
    
    
    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    
    <link rel="stylesheet" href="seismic.css">
</head>
<body>
    <div class="container">
        <div class="title">
            <div>
                <h1>SEISMIC ACTIVITY</h1>
                <h4>A drum machine that takes 24 hours of seismic data from your date of choice and turns it into a drum sequence</h4>
            </div>
            <div class="help"><h3>?</h3></div>
        </div>
       
            <div class="panel">
                <div class="playback-controls">
                    <button class="play-button" id="playButton">
                    <span class="play-icon">▶</span>
                    <span class="play-text"></span>
                    </button>
                    
                    <div class="date-control">
                        
                        <label for="dateSelector">Date:</label>        
                        <div class="date-input-group">
                            <button class="date-nav-btn" id="prevDate">←</button>
                            
                            
                            <input type="date" id="dateSelector" class="date-selector">
                            
                            <button class="date-nav-btn" id="nextDate">→</button>
                      
                        </div>
                        
                       
                      
                    </div>
                    <a href="https://maxy.world" target="_blank" class="birthday-message" id="birthdayMessage">
                    HAPPY BIRTHDAY MAXY <3
                    </a>
                    
                    <div class="bpm-controls">
                        <label>BPM: <span id="tempoValue">120</span></label>
                        <input type="range" class="bpm-slider" id="tempoSlider" min="60" max="180" value="120">
                    </div>
                        
                    <div class="magnitude-controls">
                        <label>Min Magnitude:</label>
                        <div class="magnitude-input-group">
                            <button class="magnitude-btn" id="decreaseMagnitude">-</button>
                           <input type="number" id="minMagnitudeValue" value="2.5" step="0.1" min="0" max="10">
                           <button class="magnitude-btn" id="increaseMagnitude">+</button>
                        </div>
                    </div>
                </div>   
            
               
                <div class="monitors">
                    <div class="sequencer-container">
                        <h3>EARTHQUAKES IN 24 HOURS</h3>
                        <!-- Continent-based Sequencer -->
                        <div class="continent-sequencer" id="continentSequencer">
                            <!-- Americas -->
                            <div class="continent-track" data-continent="americas">
                                <div class="track-info">
                                    <h4 class="continent-name">Americas</h4>
                                    <select class="instrument-select" data-continent="americas">
                                        <option value="kick">Kick</option>
                                        <option value="snare">Snare</option>
                                        <option value="hihat" selected>Hi-hat</option>
                                        <option value="cymbal">Cymbal</option>
                                        <option value="clap">Clap</option>
                                        <option value="boom">Boom</option>
                                        <option value="tom">Tom</option>
                                        <option value="tink">Tink</option>
                                        <option value="ride">Ride</option>
                                    </select>
                                </div>
                                <div class="track-steps" data-continent="americas">
                                    <!-- 24 step cells will be generated by JavaScript -->
                                </div>
                            </div>

                            <!-- Europe -->
                            <div class="continent-track" data-continent="europe">
                                <div class="track-info">
                                    <h4 class="continent-name">Europe</h4>
                                    <select class="instrument-select" data-continent="europe">
                                        <option value="kick">Kick &#8964;</option>
                                        <option value="snare">Snare</option>
                                        <option value="hihat">Hi-hat</option>
                                        <option value="cymbal" selected>Cymbal</option>
                                        <option value="clap">Clap</option>
                                        <option value="boom">Boom</option>
                                        <option value="tom">Tom</option>
                                        <option value="tink">Tink</option>
                                        <option value="ride">Ride</option>
                                    </select>
                                </div>
                                <div class="track-steps" data-continent="europe">
                                    <!-- 24 step cells will be generated by JavaScript -->
                                </div>
                            </div>

                            <!-- Asia -->
                            <div class="continent-track" data-continent="asia">
                                <div class="track-info">
                                    <h4 class="continent-name">Asia</h4>
                                    <select class="instrument-select" data-continent="asia">
                                        <option value="kick">Kick</option>
                                        <option value="snare">Snare</option>
                                        <option value="hihat">Hi-hat</option>
                                        <option value="cymbal">Cymbal</option>
                                        <option value="clap">Clap</option>
                                        <option value="boom" selected>Boom</option>
                                        <option value="tom">Tom</option>
                                        <option value="tink">Tink</option>
                                        <option value="ride">Ride</option>
                                    </select>
                                </div>
                                <div class="track-steps" data-continent="asia">
                                    <!-- 24 step cells will be generated by JavaScript -->
                                </div>
                            </div>

                            <!-- Africa -->
                            <div class="continent-track" data-continent="africa">
                                <div class="track-info">
                                    <h4 class="continent-name">Africa</h4>
                                    <select class="instrument-select" data-continent="africa">
                                        <option value="kick">Kick</option>
                                        <option value="snare" selected>Snare</option>
                                        <option value="hihat">Hi-hat</option>
                                        <option value="cymbal">Cymbal</option>
                                        <option value="clap">Clap</option>
                                        <option value="boom">Boom</option>
                                        <option value="tom">Tom</option>
                                        <option value="tink">Tink</option>
                                        <option value="ride">Ride</option>
                                    </select>
                                </div>
                                <div class="track-steps" data-continent="africa">
                                    <!-- 24 step cells will be generated by JavaScript -->
                                </div>
                            </div>

                            <!-- Oceania -->
                            <div class="continent-track" data-continent="oceania">
                                <div class="track-info">
                                    <h4 class="continent-name">Oceania</h4>
                                    <select class="instrument-select" data-continent="oceania">
                                        <option value="kick">Kick</option>
                                        <option value="snare">Snare</option>
                                        <option value="hihat">Hi-hat</option>
                                        <option value="cymbal">Cymbal</option>
                                        <option value="clap">Clap</option>
                                        <option value="boom">Boom</option>
                                        <option value="tom">Tom</option>
                                        <option value="tink" selected>Tink</option>
                                        <option value="ride">Ride</option>
                                    </select>
                                </div>
                                <div class="track-steps" data-continent="oceania">
                                    <!-- 24 step cells will be generated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="seismograph-section">
                        <div class="seismograph-container">
                            <div class="seismograph-header">
                                <h3>MONITOR</h3>
                                <div class="seismograph-status">
                                    <span id="seismicStatus">●</span>
                                </div>
                            </div>
                            <div class="seismograph-channels">
                                <div class="seismograph-channel">
                                    <canvas class="seismograph-canvas" id="seismograph-americas" height="40"></canvas>
                                </div>
                                <div class="seismograph-channel">
                                    <canvas class="seismograph-canvas" id="seismograph-europe" height="40"></canvas>
                                </div>
                                <div class="seismograph-channel">
                                    <canvas class="seismograph-canvas" id="seismograph-asia" height="40"></canvas>
                                </div>
                                <div class="seismograph-channel">
                                    <canvas class="seismograph-canvas" id="seismograph-africa" height="40"></canvas>
                                </div>
                                <div class="seismograph-channel">
                                    <canvas class="seismograph-canvas" id="seismograph-oceania" height="40"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>

        <div class="map-section">
            <div class="map-container">
                <!-- D3.js SVG Map Container -->
                <svg id="map" class="d3-map"></svg>
                
                <!-- Earthquake marker container -->
                <div id="markerContainer" class="marker-container"></div>
            </div>
        </div>
    </div>

    <!-- Hidden elements needed by JavaScript -->
    <div style="display: none;">
        <span id="earthquakeCount">0</span>
        <div id="currentEarthquake"></div>
    </div>

    <!-- Embedded audio samples -->
    <div style="display: none;">
        <audio id="kick" preload="auto">
            <source src="kick.wav" type="audio/wav">
        </audio>
        
        <audio id="snare" preload="auto">
            <source src="snare.wav" type="audio/wav">
        </audio>
        
        <audio id="hihat" preload="auto">
            <source src="hihat.wav" type="audio/wav">
        </audio>
        
        <audio id="cymbal" preload="auto">
            <source src="cymbal.wav" type="audio/wav">
        </audio>
        
        <audio id="clap" preload="auto">
            <source src="clap.wav" type="audio/wav">
        </audio>
        
        <audio id="boom" preload="auto">
            <source src="boom.wav" type="audio/wav">
        </audio>
        
        <audio id="shaker" preload="auto">
            <source src="shaker.wav" type="audio/wav">
        </audio>
    </div>

    <div class="modal" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>This is a drum machine where patterns are generated by maps of seismic activity on a given day. It is inspired by the <a href="https://www.usgs.gov/programs/earthquake-hazards">USGS live Earthquake Map</a> and uses their publicly available GeoJSON feed.</p>
                <br>
                <p>It was created by <a href="https://jessiechar.com"target="_blank">Jessie Char</a> for Maxwell Neely-Cohen's 39th birthday (love you <a href="https://maxy.world"target="_blank">Maxy</a> <3).</p>
                <br>
                <p>It is part of the <a href="https://10kdrummachines.com"target=_blank>10,000 Drum Machines</a> project.</p>
                
            </div>
        </div>
    </div>

    <script src="seismic.js"></script>
</body>
</html> 